{
    "name": "DaemonEye Rust Development",
    "image": "mcr.microsoft.com/devcontainers/rust:latest",
    "features": {
        "ghcr.io/devcontainers/features/common-utils:2": {
            "installZsh": true,
            "configureZshAsDefaultShell": true,
            "installOhMyZsh": true,
            "installOhMyZshConfig": true,
            "upgradePackages": true,
            "nonFreePackages": true,
            "username": "automatic",
            "userUid": "automatic",
            "userGid": "automatic"
        },
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
            "installDockerBuildx": true,
            "installDockerComposeSwitch": true,
            "version": "latest",
            "dockerDashComposeVersion": "v2",
            "moby": false
        },
        "ghcr.io/devcontainers/features/git-lfs:1": {
            "autoPull": true,
            "version": "latest"
        },
        "ghcr.io/devcontainers/features/node:1": {
            "nodeGypDependencies": true,
            "installYarnUsingApt": true,
            "version": "lts",
            "pnpmVersion": "latest",
            "nvmVersion": "latest"
        },
        "ghcr.io/devcontainers/features/python:1": {
            "installTools": true,
            "version": "latest"
        },
        "ghcr.io/lee-orr/rusty-dev-containers/cargo-binstall:0": {},
        "ghcr.io/schlich/devcontainer-features/just:0": {
            "version": "latest"
        },
        "ghcr.io/devcontainers-extra/features/pre-commit:2": {
            "version": "latest"
        }
    },
    "mounts": [
        {
            "source": "devcontainer-cargo-cache-${devcontainerId}",
            "target": "/usr/local/cargo",
            "type": "volume"
        }
    ],
    "postCreateCommand": "just setup && just install-tools",
    "customizations": {
        "vscode": {
            "extensions": [
                "rust-lang.rust-analyzer",
                "vadimcn.vscode-lldb",
                "serayuzgur.crates",
                "ms-vscode.vscode-json",
                "yzhang.markdown-all-in-one",
                "bierner.markdown-mermaid",
                "esbenp.prettier-vscode",
                "tamasfe.even-better-toml",
                "fill-labs.dependi",
                "usernamehw.errorlens",
                "bradlc.vscode-tailwindcss",
                "ms-python.python",
                "ms-vscode.test-adapter-converter",
                "github.vscode-github-actions",
                "ms-vscode.makefile-tools",
                "EditorConfig.EditorConfig",
                "skellock.just",
                "bierner.markdown-emoji",
                "bierner.markdown-footnotes",
                "charliermarsh.ruff",
                "foxundermoon.shell-format",
                "redhat.vscode-yaml",
                "codezombiech.gitignore",
                "eamodio.gitlens"
            ],
            "settings": {
                "rust-analyzer.check.command": "clippy",
                "rust-analyzer.check.extraArgs": [
                    "--all-targets",
                    "--all-features"
                ],
                "rust-analyzer.cargo.features": "all",
                "rust-analyzer.rustfmt.extraArgs": [
                    "--edition",
                    "2024"
                ],
                "editor.formatOnSave": true,
                "editor.codeActionsOnSave": {
                    "source.fixAll": "explicit"
                },
                "files.watcherExclude": {
                    "**/target/**": true,
                    "**/.git/objects/**": true,
                    "**/.git/subtree-cache/**": true
                },
                "search.exclude": {
                    "**/target": true,
                    "**/Cargo.lock": true
                },
                "terminal.integrated.defaultProfile.linux": "zsh",
                "rust-analyzer.lens.enable": true,
                "rust-analyzer.completion.addCallParentheses": false,
                "rust-analyzer.completion.addCallArgumentSnippets": false,
                "rust-analyzer.inlayHints.parameterHints.enable": false
            }
        }
    }
}
